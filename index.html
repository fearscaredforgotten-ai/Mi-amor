<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hailey ğŸ’˜ Â¿Quieres ser mi San ValentÃ­n?</title>
  <style>
    :root{
      --bg1:#ffe2ef;
      --bg2:#ff7aa8;
      --card:#ffffffd6;
      --text:#1f1f1f;
      --yes:#ff2d6c;
      --no:#222;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
      overflow:hidden;
      padding:20px;
    }

    /* floating hearts */
    .hearts{ position:fixed; inset:0; pointer-events:none; opacity:.75; z-index:1; }
    .heart{
      position:absolute;
      opacity:0;
      animation: floatUp linear infinite;
      filter: drop-shadow(0 6px 10px rgba(0,0,0,.12));
    }
    @keyframes floatUp{
      0%{ transform:translateY(110vh) scale(.9); opacity:0; }
      10%{ opacity:1; }
      100%{ transform:translateY(-20vh) scale(1.2); opacity:0; }
    }

    .card{
      width:min(650px, 92vw);
      background:var(--card);
      border:1px solid rgba(0,0,0,.06);
      border-radius:22px;
      padding:26px 22px;
      text-align:center;
      box-shadow: 0 18px 50px rgba(0,0,0,.14);
      backdrop-filter: blur(10px);
      position:relative;
      z-index:5;
    }
    .top{
      font-size:56px;
      margin:0 0 6px;
      animation: pop 1.2s ease-in-out infinite;
      display:inline-block;
    }
    @keyframes pop{ 0%,100%{transform:scale(1)} 50%{transform:scale(1.06)} }

    h1{
      margin:0 0 8px;
      font-size: clamp(26px, 4.2vw, 40px);
      line-height:1.1;
      font-weight:900;
      letter-spacing:-.02em;
    }
    .name{
      display:inline-block;
      background:#fff;
      padding:2px 10px;
      border-radius:999px;
      box-shadow: inset 0 0 0 2px rgba(0,0,0,.06);
      margin-right:6px;
      font-weight:900;
    }
    .sub{
      margin:0;
      opacity:.9;
      font-size:16px;
      line-height:1.4;
    }
    .tag{
      display:inline-block;
      margin-top:10px;
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      background:#fff;
      box-shadow: inset 0 0 0 2px rgba(0,0,0,.06);
      opacity:.85;
    }

    /* Buttons area: YES always clickable, NO stays on right half */
    .buttons{
      margin-top:18px;
      position:relative;
      min-height:140px;
      padding:10px 6px;
    }
    .row{
      display:flex;
      justify-content:center;
      gap:14px;
      flex-wrap:wrap;
      align-items:center;
      position:relative;
      z-index:3;
    }
    button{
      border:none;
      padding:14px 22px;
      border-radius:14px;
      font-weight:900;
      font-size:16px;
      cursor:pointer;
      transition: transform .08s ease, box-shadow .2s ease;
      box-shadow: 0 10px 22px rgba(0,0,0,.12);
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }
    button:active{ transform: scale(.98); }

    #yesBtn{
      background:var(--yes);
      color:#fff;
      position:relative;
      z-index:9999;
      pointer-events:auto;
    }

    /* NO button is absolute but restricted to right half visually and logically */
    #noBtn{
      background:#fff;
      color:var(--no);
      border:2px solid rgba(0,0,0,.08);
      position:absolute;
      top:18px;
      left:62%;
      z-index:2;
    }

    .result{
      display:none;
      margin-top:16px;
      padding:14px 14px;
      background:#fff;
      border-radius:16px;
      box-shadow: inset 0 0 0 2px rgba(0,0,0,.06);
      text-align:left;
    }
    .result h2{ margin:0 0 6px; font-size:18px; }
    #msg{ line-height:1.35; }
    .footer{ margin-top:10px; font-size:13px; opacity:.8; }
  </style>
</head>

<body>
  <div class="hearts" id="hearts"></div>

  <main class="card">
    <div class="top">ğŸ’˜</div>
    <h1><span class="name">Hailey</span>Â¿quieres ser mi San ValentÃ­n?</h1>
    <p class="sub">DÃ­melo claro ğŸ˜ŒğŸ’—<br>(pero tÃº sabeâ€™ que yo ya tengo mi respuesta ğŸ˜‚)</p>
    <div class="tag">ğŸ‡©ğŸ‡´ con cariÃ±o y un chin de atrevido ğŸ˜­ğŸ’</div>

    <div class="buttons" id="btnArea">
      <div class="row">
        <button id="yesBtn" type="button">SÃ­ ğŸ’—</button>
      </div>
      <button id="noBtn" type="button">No ğŸ™„</button>
    </div>

    <section class="result" id="result">
      <h2>AYYYYY SÃÃÃ ğŸ’</h2>
      <div id="msg"></div>
      <div class="footer">TÃ­rame un screenshot y mÃ¡ndamelo ğŸ’Œ</div>
    </section>
  </main>

  <script>
    // Hearts background
    const heartsWrap = document.getElementById("hearts");
    const heartEmojis = ["ğŸ’—","ğŸ’–","ğŸ’˜","ğŸ’•","ğŸ’","â¤ï¸"];
    function spawnHeart(){
      const h = document.createElement("div");
      h.className = "heart";
      h.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
      h.style.left = Math.random()*100 + "vw";
      h.style.animationDuration = (4 + Math.random()*5) + "s";
      h.style.animationDelay = (Math.random()*1) + "s";
      h.style.fontSize = (14 + Math.random()*22) + "px";
      heartsWrap.appendChild(h);
      setTimeout(()=>h.remove(), 9000);
    }
    setInterval(spawnHeart, 240);

    // Elements
    const yesBtn  = document.getElementById("yesBtn");
    const noBtn   = document.getElementById("noBtn");
    const btnArea = document.getElementById("btnArea");
    const result  = document.getElementById("result");
    const msg     = document.getElementById("msg");

    const yesMessages = [
      "Hailey, ya tÃº ereâ€™ mi San ValentÃ­n ğŸ˜ŒğŸ’—<br>Te paso a buscar y vamoâ€™ a comer rico. Â¿A quÃ© hora tÃº taâ€™? ğŸ‘€âœ¨",
      "Diacheee ğŸ˜­ğŸ’ sabÃ­a que tÃº ibaâ€™ a decir que sÃ­.<br>Este San ValentÃ­n es de nosotroâ€™ ğŸ’˜",
      "Taâ€™ duroâ€¦ ya tÃº me tieneâ€™ en la mano ğŸ˜ŒğŸ’—<br>Â¿Flores o chocolatito? ğŸ‘€ğŸ«",
      "Ok perfecto ğŸ˜¤ğŸ’–<br>Ahora dime: Â¿pizza, sushi o Chick-fil-A? ğŸ˜‚"
    ];

    // Keep NO button from ever blocking YES: restrict NO to right half of container
    function moveNoButton(){
      const area = btnArea.getBoundingClientRect();
      const rect = noBtn.getBoundingClientRect();

      const rightHalfStart = area.width * 0.55; // start of allowed x range
      const maxX = area.width - rect.width - 8;
      const maxY = area.height - rect.height - 8;

      const x = Math.max(rightHalfStart, Math.random() * maxX);
      const y = Math.max(10, Math.random() * maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
    }

    // Dodge on desktop + mobile
    noBtn.addEventListener("mouseenter", moveNoButton);
    noBtn.addEventListener("touchstart", (e) => {
      e.preventDefault();
      moveNoButton();
    }, { passive:false });

    // -------- Dominican-style beat (Web Audio) --------
    let audioCtx = null;
    let beatTimer = null;
    let beatStep = 0;

    function startDominicanBeat(){
      if (beatTimer) return; // already playing

      audioCtx = audioCtx || new (window.AudioContext || window.webkitAudioContext)();

      const master = audioCtx.createGain();
      master.gain.value = 0.35;
      master.connect(audioCtx.destination);

      // small helper: click (hi-hat)
      function hat(time){
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = "square";
        osc.frequency.setValueAtTime(8500, time);
        gain.gain.setValueAtTime(0.0001, time);
        gain.gain.exponentialRampToValueAtTime(0.12, time + 0.001);
        gain.gain.exponentialRampToValueAtTime(0.0001, time + 0.03);
        osc.connect(gain).connect(master);
        osc.start(time);
        osc.stop(time + 0.04);
      }

      // kick
      function kick(time){
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = "sine";
        osc.frequency.setValueAtTime(140, time);
        osc.frequency.exponentialRampToValueAtTime(55, time + 0.08);
        gain.gain.setValueAtTime(0.0001, time);
        gain.gain.exponentialRampToValueAtTime(0.9, time + 0.005);
        gain.gain.exponentialRampToValueAtTime(0.0001, time + 0.12);
        osc.connect(gain).connect(master);
        osc.start(time);
        osc.stop(time + 0.14);
      }

      // snare-ish (noise)
      function snare(time){
        const bufferSize = audioCtx.sampleRate * 0.12;
        const buffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
        const data = buffer.getChannelData(0);
        for (let i = 0; i < bufferSize; i++) data[i] = (Math.random() * 2 - 1) * (1 - i / bufferSize);

        const noise = audioCtx.createBufferSource();
        noise.buffer = buffer;

        const filter = audioCtx.createBiquadFilter();
        filter.type = "highpass";
        filter.frequency.setValueAtTime(1200, time);

        const gain = audioCtx.createGain();
        gain.gain.setValueAtTime(0.0001, time);
        gain.gain.exponentialRampToValueAtTime(0.45, time + 0.003);
        gain.gain.exponentialRampToValueAtTime(0.0001, time + 0.12);

        noise.connect(filter).connect(gain).connect(master);
        noise.start(time);
        noise.stop(time + 0.13);
      }

      // tempo (merengue-ish feel)
      const bpm = 138;
      const stepMs = (60_000 / bpm) / 2; // 8th notes

      beatStep = 0;
      beatTimer = setInterval(() => {
        const t = audioCtx.currentTime + 0.02;

        // Pattern: kick on 1, â€œandâ€, snare on 2 & 4 vibe, hats constant
        hat(t);

        if (beatStep % 8 === 0) kick(t);        // strong
        if (beatStep % 8 === 4) snare(t);       // backbeat
        if (beatStep % 8 === 2) kick(t);        // syncopation
        if (beatStep % 8 === 6) snare(t);       // extra energy

        beatStep = (beatStep + 1) % 16;
      }, stepMs);
    }

    function burstHearts(){
      for(let i=0;i<14;i++){
        const s = document.createElement("div");
        s.className = "heart";
        s.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
        s.style.left = (45 + (Math.random()*12 - 6)) + "vw";
        s.style.animationDuration = (2.3 + Math.random()*1.8) + "s";
        s.style.animationDelay = "0s";
        s.style.fontSize = (18 + Math.random()*22) + "px";
        heartsWrap.appendChild(s);
        setTimeout(()=>s.remove(), 5200);
      }
    }

    yesBtn.addEventListener("click", async () => {
      // Show result
      msg.innerHTML = yesMessages[Math.floor(Math.random()*yesMessages.length)];
      result.style.display = "block";

      // Lock NO
      noBtn.disabled = true;
      noBtn.style.opacity = 0.45;

      burstHearts();

      // Start beat ONLY after YES (works on iPhone)
      try{
        if (audioCtx) await audioCtx.resume();
        startDominicanBeat();
      }catch(e){
        // If silent mode/volume blocks, nothing else needed
      }
    });
  </script>
</body>
</html>
